{"ast":null,"code":"import _objectSpread from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import{Link}from\"react-router-dom\";import logo from\"../../images/logo.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(_ref){var _errors$email,_errors$password;var onLogin=_ref.onLogin;var _useForm=useForm({mode:\"all\"}),register=_useForm.register,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isValid=_useForm$formState.isValid;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var resetForm=function resetForm(){setEmail(\"\");setPassword(\"\");};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!email||!password)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:onLogin({email:email,password:password}).then(resetForm);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"section\",{className:\"login__container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\\u041C\\u0435\\u0441\\u0442\\u043E\",className:\"login__logo\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"login__title\",children:\"\\u0420\\u0430\\u0434\\u044B \\u0432\\u0430\\u0441 \\u0432\\u0438\\u0434\\u0435\\u0442\\u044C!\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"login__label\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"email\",{required:\"Поле обязательно к заполнению! \",onChange:function onChange(e){return setEmail(e.target.value);},pattern:{value:/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,message:\"Введите реальный адрес электронной почты!\"}})),{},{value:email,className:\"login__input\",name:\"email\",type:\"email\",required:true})),/*#__PURE__*/_jsx(\"div\",{className:\"login__errors\",children:(errors===null||errors===void 0?void 0:errors.email)&&/*#__PURE__*/_jsx(\"p\",{className:\"login__error\",children:(errors===null||errors===void 0?void 0:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message)||\"Error\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"login__label\",htmlFor:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\",{onChange:function onChange(e){return setPassword(e.target.value);},required:\"Поле обязательно к заполнению!\",minLength:{value:8,message:\"Минимум 8 символов\"}})),{},{value:password,className:\"login__input\",name:\"password\",type:\"password\",required:true})),/*#__PURE__*/_jsx(\"div\",{className:\"login__errors\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login__error\",children:(errors===null||errors===void 0?void 0:errors.password)&&/*#__PURE__*/_jsx(\"p\",{children:(errors===null||errors===void 0?void 0:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message)||\"Error\"})})}),/*#__PURE__*/_jsx(\"button\",{disabled:!isValid,type:\"submit\",className:\"login__button\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__signin\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"login__register-link\",children:\" \\u0415\\u0449\\u0435 \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\"}),/*#__PURE__*/_jsx(Link,{to:\"wwww.google.com\",className:\"login__register-link\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})]})]});};","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/components/Login/Login.js"],"names":["React","useState","useForm","Link","logo","Login","onLogin","mode","register","formState","errors","isValid","email","setEmail","password","setPassword","resetForm","handleSubmit","e","preventDefault","then","required","onChange","target","value","pattern","message","minLength"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../../images/logo.svg\";\n\nexport const Login = ({ onLogin }) => {\n\n  const {\n    register,\n    formState: { errors, isValid },\n  } = useForm({\n    mode: \"all\"\n  });\n  \n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const resetForm = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    onLogin({ email, password })\n      .then(resetForm)\n  };\n\n\n \n\n  return (\n    <section className=\"login__container\">\n      <Link to=\"/\"><img src={logo} alt=\"Место\" className=\"login__logo\" /></Link>\n      <h2 className=\"login__title\">Рады вас видеть!</h2>\n      <form className=\"login__form\" onSubmit={handleSubmit}>\n        <label className=\"login__label\" htmlFor=\"email\">Email</label>\n        <input\n          {...register(\"email\", {\n            required: \"Поле обязательно к заполнению! \",\n            onChange: (e) => setEmail(e.target.value),\n            pattern: { \n              value: /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n              message: \"Введите реальный адрес электронной почты!\"\n            },\n          })}\n          value={email}\n          className=\"login__input\"\n          name=\"email\"\n          type=\"email\"\n          required={true}\n        />\n        <div className=\"login__errors\">\n        {errors?.email && <p className=\"login__error\">{errors?.email?.message || \"Error\"}</p>}\n        </div>\n        <label className=\"login__label\" htmlFor=\"password\">Пароль</label>\n        <input\n           {...register(\"password\", {\n            onChange: (e) => setPassword(e.target.value),\n            required: \"Поле обязательно к заполнению!\",\n            minLength: {\n              value: 8,\n              message: \"Минимум 8 символов\",\n            },\n          })}\n          value={password}\n          className=\"login__input\"\n          name=\"password\"\n          type=\"password\"\n          required={true}\n        />\n        <div className=\"login__errors\">\n          <div className=\"login__error\">\n          {errors?.password && <p>{errors?.password?.message || \"Error\"}</p>}\n          </div>\n        </div>\n        <button disabled={!isValid} type=\"submit\" className=\"login__button\">\n          Войти\n        </button>\n      </form>\n      <div className=\"login__signin\">\n        <p className=\"login__register-link\"> Еще не зарегистрированы?</p>\n        <Link to=\"wwww.google.com\" className=\"login__register-link\">\n          Регистрация\n        </Link>\n      </div>\n    </section>\n  );\n};"]},"metadata":{},"sourceType":"module"}