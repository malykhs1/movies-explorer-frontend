{"ast":null,"code":"import _classCallCheck from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";//блок catch должен быть не в апи, а в индексе при вызове метода. \nvar ApiFilm=/*#__PURE__*/function(){function ApiFilm(config){_classCallCheck(this,ApiFilm);this._url=config.url;this._headers=config.headers;}_createClass(ApiFilm,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}//подгружаем данные пользователя с сервера\n},{key:\"getFilmInfo\",value:function getFilmInfo(){return fetch(\"\".concat(this._url),{method:'GET',headers:{'Content-Type':'application/json'}}).then(this._checkResponse);}}]);return ApiFilm;}();export var apiFilm=new ApiFilm({url:'https://api.nomoreparties.co/beatfilm-movies'});","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/utils/MoviesApi.js"],"names":["ApiFilm","config","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","apiFilm"],"mappings":"8QAAA;GACMA,CAAAA,O,yBACF,iBAAYC,MAAZ,CAAoB,+BAChB,KAAKC,IAAL,CAAYD,MAAM,CAACE,GAAnB,CACA,KAAKC,QAAL,CAAgBH,MAAM,CAACI,OAAvB,CACH,C,kDAED,wBAAeC,GAAf,CAAoB,CAChB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACR,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACH,CACD,MAAOC,CAAAA,OAAO,CAACC,MAAR,gDAAyBJ,GAAG,CAACK,MAA7B,EAAP,CACH,CAEA;2BACA,sBAAc,CACX,MAAOC,CAAAA,KAAK,WAAI,KAAKV,IAAT,EAAiB,CACrBW,MAAM,CAAE,KADa,CAErBR,OAAO,CAAE,CACL,eAAgB,kBADX,CAFY,CAAjB,CAAL,CAMFS,IANE,CAMG,KAAKC,cANR,CAAP,CAOH,C,uBAGL,MAAO,IAAMC,CAAAA,OAAO,CAAG,GAAIhB,CAAAA,OAAJ,CAAY,CAClCG,GAAG,CAAE,8CAD6B,CAAZ,CAAhB","sourcesContent":["//блок catch должен быть не в апи, а в индексе при вызове метода. \nclass ApiFilm {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n     //подгружаем данные пользователя с сервера\n     getFilmInfo() {\n        return fetch(`${this._url}`, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                  }\n            })\n            .then(this._checkResponse);\n    }\n}\n\nexport const apiFilm = new ApiFilm({\n\turl: 'https://api.nomoreparties.co/beatfilm-movies',\n});\n"]},"metadata":{},"sourceType":"module"}