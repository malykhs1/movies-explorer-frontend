{"ast":null,"code":"export var BASE_URL='https://api.malykhs-diplom.nomoredomains.rocks';var checkResponse=function checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));};export var register=function register(email,password,name){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password,name:name})}).then(checkResponse).catch(function(err){console.log(err);});};export var login=function login(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(checkResponse).then(function(data){if(data.token){localStorage.setItem('token',data.token);return data;}}).catch(function(err){console.log(err);});};","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/utils/auth.js"],"names":["BASE_URL","checkResponse","res","ok","json","Promise","reject","status","register","email","password","name","fetch","method","headers","body","JSON","stringify","then","catch","err","console","log","login","data","token","localStorage","setItem"],"mappings":"AAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,gDAAjB,CAEP,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,GAAD,CAAS,CAC7B,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CACD,MAAOC,CAAAA,OAAO,CAACC,MAAR,gDAAyBJ,GAAG,CAACK,MAA7B,EAAP,CACD,CALD,CAOA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAQC,QAAR,CAAkBC,IAAlB,QAA2BC,CAAAA,KAAK,WAAIZ,QAAJ,YAAuB,CAC7Ea,MAAM,CAAE,MADqE,CAE7EC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFoE,CAK7EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAER,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAmBC,IAAI,CAAJA,IAAnB,CAAf,CALuE,CAAvB,CAAL,CAOhDO,IAPgD,CAO3CjB,aAP2C,EAQhDkB,KARgD,CAQ1C,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAVgD,CAA3B,EAAjB,CAYL,MAAO,IAAMG,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAEd,KAAF,CAASC,QAAT,CAAuB,CAC1C,MAAOE,CAAAA,KAAK,WAAIZ,QAAJ,YAAuB,CACjCa,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFwB,CAKjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAER,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAL2B,CAAvB,CAAL,CAONQ,IAPM,CAODjB,aAPC,EAQNiB,IARM,CAQD,SAACM,IAAD,CAAU,CACd,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,IAAI,CAACC,KAAnC,EACA,MAAOD,CAAAA,IAAP,CACD,CACF,CAbM,EAcNL,KAdM,CAcA,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAhBM,CAAP,CAiBC,CAlBI","sourcesContent":["export const BASE_URL = 'https://api.malykhs-diplom.nomoredomains.rocks';\n\nconst checkResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка ${res.status}`);\n}\n\nexport const register = (email, password, name) => fetch(`${BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password, name }),\n})\n  .then(checkResponse)\n  .catch((err) => {\n    console.log(err);\n  });\n\n  export const login = ( email, password ) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ email, password }),\n    })\n    .then(checkResponse)\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        return data;\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    }"]},"metadata":{},"sourceType":"module"}