{"ast":null,"code":"import react from\"react\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var InfoToolTip=function InfoToolTip(_ref){var id=_ref.id,isOpened=_ref.isOpened,onClose=_ref.onClose,isSuccseed=_ref.isSuccseed,formValid=_ref.formValid;var location=useLocation();function closeByEsc(e){if(e.key===\"Escape\"){onClose&&onClose();}}react.useEffect(function(){document.addEventListener(\"keyup\",closeByEsc);return function(){document.removeEventListener(\"keyup\",closeByEsc);};},[isOpened,onClose]);function changeTipText(){var text;if(isSuccseed===true){text=\"Вы успешно зарегистрировались\";}if(isSuccseed===true&&location.pathname==='/profile'){text=\"Данные профиля успешно отредактированы!\";}if(isSuccseed===false){text=\"Что-то пошло не так. Попробуйте еще раз\";}return text;}return/*#__PURE__*/_jsx(\"div\",{className:isOpened?\"popup_opened popup\":\"popup\",id:id,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container popup__container_filling_\".concat(id),children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,type:\"button\",className:\"popup__close-button\",\"aria-label\":\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043F\\u043E\\u043F\\u0430\\u043F\",disabled:formValid}),/*#__PURE__*/_jsx(\"div\",{className:isSuccseed?\"popup__reg-image-ok\":\"popup__reg-image-error\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"popup__title popup__title_position_tips\",children:changeTipText()})]})});};","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/components/Popup/Popup.js"],"names":["react","useLocation","InfoToolTip","id","isOpened","onClose","isSuccseed","formValid","location","closeByEsc","e","key","useEffect","document","addEventListener","removeEventListener","changeTipText","text","pathname"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAGA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAqD,IAAlDC,CAAAA,EAAkD,MAAlDA,EAAkD,CAA9CC,QAA8C,MAA9CA,QAA8C,CAApCC,OAAoC,MAApCA,OAAoC,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,SAAe,MAAfA,SAAe,CAC9E,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,QAASQ,CAAAA,UAAT,CAAoBC,CAApB,CAAuB,CACrB,GAAIA,CAAC,CAACC,GAAF,GAAU,QAAd,CAAwB,CACtBN,OAAO,EAAIA,OAAO,EAAlB,CACD,CACF,CAEDL,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpBC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCL,UAAnC,EAEA,MAAO,WAAM,CACXI,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,CAAsCN,UAAtC,EACD,CAFD,CAGD,CAND,CAMG,CAACL,QAAD,CAAWC,OAAX,CANH,EAQA,QAASW,CAAAA,aAAT,EAAyB,CACvB,GAAIC,CAAAA,IAAJ,CACA,GAAIX,UAAU,GAAK,IAAnB,CAAyB,CACvBW,IAAI,CAAG,+BAAP,CACD,CACD,GAAIX,UAAU,GAAK,IAAf,EAAuBE,QAAQ,CAACU,QAAT,GAAsB,UAAjD,CAA8D,CAC5DD,IAAI,CAAG,yCAAP,CACD,CACD,GAAIX,UAAU,GAAK,KAAnB,CAA0B,CACxBW,IAAI,CAAG,yCAAP,CACD,CACD,MAAOA,CAAAA,IAAP,CACD,CAED,mBACE,YAAK,SAAS,CAAEb,QAAQ,6BAAxB,CAA2D,EAAE,CAAED,EAA/D,uBACE,aAAK,SAAS,qDAA+CA,EAA/C,CAAd,wBACE,eACE,OAAO,CAAEE,OADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,qBAHZ,CAIE,aAAW,2EAJb,CAKE,QAAQ,CAAEE,SALZ,EADF,cAQE,YACE,SAAS,CACPD,UAAU,+CAFd,EARF,cAaE,WAAI,SAAS,CAAC,yCAAd,UACGU,aAAa,EADhB,EAbF,GADF,EADF,CAqBD,CApDM","sourcesContent":["import react from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\n\nexport const InfoToolTip = ({ id, isOpened, onClose, isSuccseed, formValid}) => {\n  const location = useLocation();\n\n  function closeByEsc(e) {\n    if (e.key === \"Escape\") {\n      onClose && onClose();\n    }\n  }\n\n  react.useEffect(() => {\n    document.addEventListener(\"keyup\", closeByEsc);\n\n    return () => {\n      document.removeEventListener(\"keyup\", closeByEsc);\n    };\n  }, [isOpened, onClose]);\n\n  function changeTipText() {\n    let text;\n    if (isSuccseed === true) {\n      text = \"Вы успешно зарегистрировались\";\n    }\n    if (isSuccseed === true && location.pathname === '/profile' ) {\n      text = \"Данные профиля успешно отредактированы!\";\n    }\n    if (isSuccseed === false) {\n      text = \"Что-то пошло не так. Попробуйте еще раз\";\n    }\n    return text;\n  }\n\n  return (\n    <div className={isOpened ? `popup_opened popup` : `popup`} id={id}>\n      <div className={`popup__container popup__container_filling_${id}`}>\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть попап\"\n          disabled={formValid}\n        ></button>\n        <div\n          className={\n            isSuccseed ? `popup__reg-image-ok` : `popup__reg-image-error`\n          }\n        ></div>\n        <h3 className=\"popup__title popup__title_position_tips\">\n          {changeTipText()}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}