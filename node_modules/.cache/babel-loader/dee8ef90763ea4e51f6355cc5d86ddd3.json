{"ast":null,"code":"import _objectSpread from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{useForm}from\"react-hook-form\";import{Link}from\"react-router-dom\";import logo from\"../../images/logo.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Register=function Register(_ref){var _errors$name,_errors$email,_errors$password;var onRegister=_ref.onRegister;var _useForm=useForm({mode:\"all\"}),register=_useForm.register,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isValid=_useForm$formState.isValid;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var resetForm=function resetForm(){setEmail(\"\");setPassword(\"\");};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!email||!password)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:onRegister({name:name,email:email,password:password}).then(resetForm);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"section\",{className:\"register__container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\\u041C\\u0435\\u0441\\u0442\\u043E\",className:\"header__logo\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"register__title\",children:\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C!\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"register__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"register__label\",htmlFor:\"name\",children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"name\",{required:\"Поле обязательно к заполнению! \",onChange:function onChange(e){return setName(e.target.value);},minLength:{value:3,message:\"Минимум 3 символа\"}})),{},{value:name,className:\"register__input\",name:\"name\",type:\"text\"})),/*#__PURE__*/_jsx(\"div\",{className:\"register__errors\",children:(errors===null||errors===void 0?void 0:errors.name)&&/*#__PURE__*/_jsx(\"p\",{className:\"register__error\",children:(errors===null||errors===void 0?void 0:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message)||\"Error\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"register__label\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"email\",{required:\"Поле обязательно к заполнению! \",onChange:function onChange(e){return setEmail(e.target.value);},pattern:{value:/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,message:\"Введите реальный адрес электронной почты!\"}})),{},{value:email,className:\"register__input\",name:\"email\",type:\"email\"})),/*#__PURE__*/_jsx(\"div\",{className:\"register__errors\",children:(errors===null||errors===void 0?void 0:errors.email)&&/*#__PURE__*/_jsx(\"p\",{className:\"register__error\",children:(errors===null||errors===void 0?void 0:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message)||\"Error\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"register__label\",htmlFor:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\",{required:\"Поле обязательно к заполнению! \",onChange:function onChange(e){return setPassword(e.target.value);},minLength:{value:8,message:\"Минимум 8 символов\"}})),{},{value:password,className:\"register__input\",name:\"password\",type:\"password\"})),/*#__PURE__*/_jsx(\"div\",{className:\"register__errors\",children:(errors===null||errors===void 0?void 0:errors.password)&&/*#__PURE__*/_jsx(\"p\",{className:\"register__error\",children:(errors===null||errors===void 0?void 0:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message)||\"Error\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!isValid,className:\"register__button\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"register__signin\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"register__login-link\",children:\" \\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"register__login-link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});};","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/components/Registrer/Register.js"],"names":["React","useState","useForm","Link","logo","Register","onRegister","mode","register","formState","errors","isValid","name","setName","email","setEmail","password","setPassword","resetForm","handleSubmit","e","preventDefault","then","required","onChange","target","value","minLength","message","pattern"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../../images/logo.svg\";\n\nexport const Register = ({ onRegister }) => {\n\n  const {\n    register,\n    formState: { errors, isValid },\n  } = useForm({\n    mode: \"all\"\n  });\n\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const resetForm = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email || !password) {\n      return;\n    }\n    onRegister({ name, email, password })\n      .then(resetForm)\n  };\n\n\n  return (\n    <section className=\"register__container\">\n      <Link to=\"/\"><img src={logo} alt=\"Место\" className=\"header__logo\" /></Link>\n      <h2 className=\"register__title\">Добро пожаловать!</h2>\n      <form className=\"register__form\" onSubmit={handleSubmit}>\n        <label className=\"register__label\" htmlFor=\"name\">Имя</label>\n        <input\n          {...register(\"name\", {\n            required: \"Поле обязательно к заполнению! \",\n            onChange: (e) => setName(e.target.value),\n            minLength: {\n              value: 3,\n              message: \"Минимум 3 символа\",\n            },\n          })}\n          value={name}\n          className=\"register__input\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <div className=\"register__errors\">\n            {errors?.name && <p className=\"register__error\">{errors?.name?.message || \"Error\"}</p>}\n        </div>\n        <label className=\"register__label\" htmlFor=\"email\">Email</label>\n        <input\n          {...register(\"email\", {\n            required: \"Поле обязательно к заполнению! \",\n            onChange: (e) => setEmail(e.target.value),\n            pattern: { \n              value: /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n              message: \"Введите реальный адрес электронной почты!\"\n            },\n          })}\n          value={email}\n          className=\"register__input\"\n          name=\"email\"\n          type=\"email\"\n        />\n        <div className=\"register__errors\">\n            {errors?.email && <p className=\"register__error\">{errors?.email?.message || \"Error\"}</p>}\n        </div>\n        <label className=\"register__label\" htmlFor=\"password\">Пароль</label>\n        <input\n          {...register(\"password\", {\n            required: \"Поле обязательно к заполнению! \",\n            onChange: (e) => setPassword(e.target.value),\n            minLength: {\n              value: 8,\n              message: \"Минимум 8 символов\",\n            },\n          })}\n          value={password}\n          className=\"register__input\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <div className=\"register__errors\">\n            {errors?.password && <p className=\"register__error\">{errors?.password?.message || \"Error\"}</p>}\n          </div>\n        <button type=\"submit\" disabled={!isValid} className=\"register__button\">\n          Зарегистрироваться\n        </button>\n      </form>\n      <div className=\"register__signin\">\n        <p className=\"register__login-link\"> Уже зарегистрированы?</p>\n        <Link to=\"/sign-in\" className=\"register__login-link\">\n          Войти\n        </Link>\n      </div>\n    </section>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}