{"ast":null,"code":"import _slicedToArray from\"/Users/aleksandrmalyh/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Navigation}from\"../Navigation/Navigation\";import{CurrentUserContext}from\"../../context/CurrentUserContext\";import{Header}from\"../Header/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Profile=function Profile(_ref){var onSignOut=_ref.onSignOut,onUpdateUser=_ref.onUpdateUser;var userInfo=React.useContext(CurrentUserContext);//состояние для редактирования профиля\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var handleNameChange=function handleNameChange(e){setName(e.target.value);};var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,email:email});setEditMode(false);};useEffect(function(){setName(userInfo.name);setEmail(userInfo.email);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"form\",{className:\"profile\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"profile__title\",children:[\"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \",userInfo.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__user-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__name-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile__name\",children:\"\\u0418\\u043C\\u044F\"}),editMode?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"profile__input\",onChange:handleNameChange,value:name,required:true}):/*#__PURE__*/_jsx(\"p\",{className:\"profile__name-data\",children:userInfo.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__email-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile__email\",children:\"Email\"}),editMode?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"profile__input\",onChange:handleEmailChange,value:email,required:true}):/*#__PURE__*/_jsx(\"p\",{className:\"profile__email-data\",children:userInfo.email})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__links\",children:editMode?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"profile__error\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"profile__button-submit\",disabled:!(name!==userInfo.name||email!==userInfo.email),children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile__register-link\",onClick:function onClick(){return setEditMode(true);},children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onSignOut,className:\"profile__button-exit\",children:\"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0430\"})]})})]})})]});};// import React, { useState } from \"react\";\n// import { Navigation } from \"../Navigation/Navigation\";\n// import { CurrentUserContext } from \"../../context/CurrentUserContext\";\n// import { Header } from \"../Header/Header\";\n// export const Profile = ({ onEdit, onSignOut }) => {\n//   const userInfo = React.useContext(CurrentUserContext);\n//   //состояние для редактирования профиля\n//   const [editMote, setEditMode] = useState(false);\n// return (\n//   <>\n//     <Header />\n//     <Navigation />\n//     {/* need to add onSubmit to form */}\n//     <form className=\"profile\">\"\n//       <div className=\"profile__container\">\n//         <h2 className=\"profile__title\">Привет, {userInfo.name}</h2>\n//         <div className=\"profile__user-data\">\n//           <div className=\"profile__name-container\">\n//             <p className=\"profile__name\">Имя</p>\n//             <p className=\"profile__name-data\">{userInfo.name}</p>\n//           </div>\n//           <div className=\"profile__email-container\">\n//             <p className=\"profile__email\">Email</p>\n//             <p className=\"profile__email-data\">{userInfo.email}</p>\n//           </div>\n//         </div>\n//         <div className=\"profile__links\">\n//           <button onClick={onEdit} className=\"profile__register-link\">\n//             Редактировать\n//           </button>\n//           <button onClick={onSignOut} className=\"profile__button-exit\">\n//             Выйти из аккауна\n//           </button>\n//         </div>\n//       </div>\n//     </form>\n//   </>\n// );\n// };","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/components/Profile/Profile.js"],"names":["React","useState","useEffect","Navigation","CurrentUserContext","Header","Profile","onSignOut","onUpdateUser","userInfo","useContext","editMode","setEditMode","name","setName","email","setEmail","handleNameChange","e","target","value","handleEmailChange","handleSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Navigation } from \"../Navigation/Navigation\";\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\nimport { Header } from \"../Header/Header\";\n\nexport const Profile = ({ onSignOut, onUpdateUser }) => {\n\n  const userInfo = React.useContext(CurrentUserContext);\n  //состояние для редактирования профиля\n  const [editMode, setEditMode] = useState(false);\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      email: email,\n    });\n    setEditMode(false)\n  }\n\n  useEffect(() => {\n    setName(userInfo.name);\n    setEmail(userInfo.email);\n  }, []);\n\n  return (\n    <>\n      <Header />\n      <Navigation />\n      <form className=\"profile\" onSubmit={handleSubmit}>\n        <div className=\"profile__container\">\n          <h2 className=\"profile__title\">Привет, {userInfo.name}</h2>\n          <div className=\"profile__user-data\">\n            <div className=\"profile__name-container\">\n              <label className=\"profile__name\">Имя</label>\n              {\n                editMode\n                  ? (<input type=\"text\" name=\"name\" className=\"profile__input\" onChange={handleNameChange} value={name} required />)\n                  : (<p className=\"profile__name-data\">{userInfo.name}</p>)\n              }\n            </div>\n            <div className=\"profile__email-container\">\n              <label className=\"profile__email\">Email</label>\n              {editMode\n                ? (<input type=\"text\" name=\"email\" className=\"profile__input\" onChange={handleEmailChange} value={email} required />)\n                : (<p className=\"profile__email-data\">{userInfo.email}</p>)\n              }\n            </div>\n          </div>\n          <div className=\"profile__links\">\n            {editMode\n              ? (\n                <>\n                <p className=\"profile__error\"></p>\n                <button type=\"submit\" className=\"profile__button-submit\" disabled={!(name !== userInfo.name || email !== userInfo.email)}>Сохранить</button>\n                </>\n              )\n              : (\n                <>\n                <button className=\"profile__register-link\" onClick={() => setEditMode(true)} >\n            Редактировать\n          </button>\n          <button onClick={onSignOut} className=\"profile__button-exit\">\n            Выйти из аккауна\n          </button>\n                </>  \n          )}\n          </div>\n        </div>\n      </form>\n    </>\n  );\n};\n\n\n\n\n// import React, { useState } from \"react\";\n// import { Navigation } from \"../Navigation/Navigation\";\n// import { CurrentUserContext } from \"../../context/CurrentUserContext\";\n// import { Header } from \"../Header/Header\";\n\n// export const Profile = ({ onEdit, onSignOut }) => {\n\n//   const userInfo = React.useContext(CurrentUserContext);\n\n//   //состояние для редактирования профиля\n//   const [editMote, setEditMode] = useState(false);\n\n  // return (\n  //   <>\n  //     <Header />\n  //     <Navigation />\n  //     {/* need to add onSubmit to form */}\n  //     <form className=\"profile\">\"\n  //       <div className=\"profile__container\">\n  //         <h2 className=\"profile__title\">Привет, {userInfo.name}</h2>\n  //         <div className=\"profile__user-data\">\n  //           <div className=\"profile__name-container\">\n  //             <p className=\"profile__name\">Имя</p>\n  //             <p className=\"profile__name-data\">{userInfo.name}</p>\n  //           </div>\n  //           <div className=\"profile__email-container\">\n  //             <p className=\"profile__email\">Email</p>\n  //             <p className=\"profile__email-data\">{userInfo.email}</p>\n  //           </div>\n  //         </div>\n  //         <div className=\"profile__links\">\n  //           <button onClick={onEdit} className=\"profile__register-link\">\n  //             Редактировать\n  //           </button>\n  //           <button onClick={onSignOut} className=\"profile__button-exit\">\n  //             Выйти из аккауна\n  //           </button>\n  //         </div>\n  //       </div>\n  //     </form>\n  //   </>\n  // );\n// };\n\n"]},"metadata":{},"sourceType":"module"}