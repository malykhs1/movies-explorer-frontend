{"ast":null,"code":"var _jsxFileName = \"/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/components/Popup/Popup.js\",\n    _s = $RefreshSig$();\n\nimport react from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const InfoToolTip = _ref => {\n  _s();\n\n  let {\n    id,\n    isOpened,\n    onClose,\n    isSuccseed,\n    formValid\n  } = _ref;\n  const location = useLocation();\n\n  function closeByEsc(e) {\n    if (e.key === \"Escape\") {\n      onClose && onClose();\n    }\n  }\n\n  react.useEffect(() => {\n    document.addEventListener(\"keyup\", closeByEsc);\n    return () => {\n      document.removeEventListener(\"keyup\", closeByEsc);\n    };\n  }, [isOpened, onClose]);\n\n  function changeTipText() {\n    let text;\n\n    if (isSuccseed === true) {\n      text = \"Вы успешно зарегистрировались\";\n    } // if (isSuccseed === true && location.pathname === '/profile' ) {\n    //   text = \"Данные профиля успешно отредактированы!\";\n    // }\n\n\n    if (isSuccseed === false) {\n      text = \"Что-то пошло не так. Попробуйте еще раз\";\n    }\n\n    return text;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isOpened ? `popup_opened popup` : `popup`,\n    id: id,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `popup__container popup__container_filling_${id}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        type: \"button\",\n        className: \"popup__close-button\",\n        \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043F\\u043E\\u043F\\u0430\\u043F\",\n        disabled: formValid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isSuccseed ? `popup__reg-image-ok` : `popup__reg-image-error`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"popup__title popup__title_position_tips\",\n        children: changeTipText()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(InfoToolTip, \"BXcZrDMM76mmm4zA8/QV5UbMNXE=\", false, function () {\n  return [useLocation];\n});\n\n_c = InfoToolTip;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoToolTip\");","map":{"version":3,"sources":["/Users/aleksandrmalyh/dev/movies-explorer-frontend/src/components/Popup/Popup.js"],"names":["react","useLocation","InfoToolTip","id","isOpened","onClose","isSuccseed","formValid","location","closeByEsc","e","key","useEffect","document","addEventListener","removeEventListener","changeTipText","text"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAGA,OAAO,MAAMC,WAAW,GAAG,QAAqD;AAAA;;AAAA,MAApD;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,QAAN;AAAgBC,IAAAA,OAAhB;AAAyBC,IAAAA,UAAzB;AAAqCC,IAAAA;AAArC,GAAoD;AAC9E,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AAEA,WAASQ,UAAT,CAAoBC,CAApB,EAAuB;AACrB,QAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;AACtBN,MAAAA,OAAO,IAAIA,OAAO,EAAlB;AACD;AACF;;AAEDL,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpBC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCL,UAAnC;AAEA,WAAO,MAAM;AACXI,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCN,UAAtC;AACD,KAFD;AAGD,GAND,EAMG,CAACL,QAAD,EAAWC,OAAX,CANH;;AAQA,WAASW,aAAT,GAAyB;AACvB,QAAIC,IAAJ;;AACA,QAAIX,UAAU,KAAK,IAAnB,EAAyB;AACvBW,MAAAA,IAAI,GAAG,+BAAP;AACD,KAJsB,CAKvB;AACA;AACA;;;AACA,QAAIX,UAAU,KAAK,KAAnB,EAA0B;AACxBW,MAAAA,IAAI,GAAG,yCAAP;AACD;;AACD,WAAOA,IAAP;AACD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAEb,QAAQ,GAAI,oBAAJ,GAA2B,OAAnD;AAA2D,IAAA,EAAE,EAAED,EAA/D;AAAA,2BACE;AAAK,MAAA,SAAS,EAAG,6CAA4CA,EAAG,EAAhE;AAAA,8BACE;AACE,QAAA,OAAO,EAAEE,OADX;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,SAAS,EAAC,qBAHZ;AAIE,sBAAW,2EAJb;AAKE,QAAA,QAAQ,EAAEE;AALZ;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AACE,QAAA,SAAS,EACPD,UAAU,GAAI,qBAAJ,GAA4B;AAF1C;AAAA;AAAA;AAAA;AAAA,cARF,eAaE;AAAI,QAAA,SAAS,EAAC,yCAAd;AAAA,kBACGU,aAAa;AADhB;AAAA;AAAA;AAAA;AAAA,cAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD,CApDM;;GAAMd,W;UACMD,W;;;KADNC,W","sourcesContent":["import react from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\n\nexport const InfoToolTip = ({ id, isOpened, onClose, isSuccseed, formValid}) => {\n  const location = useLocation();\n\n  function closeByEsc(e) {\n    if (e.key === \"Escape\") {\n      onClose && onClose();\n    }\n  }\n\n  react.useEffect(() => {\n    document.addEventListener(\"keyup\", closeByEsc);\n\n    return () => {\n      document.removeEventListener(\"keyup\", closeByEsc);\n    };\n  }, [isOpened, onClose]);\n\n  function changeTipText() {\n    let text;\n    if (isSuccseed === true) {\n      text = \"Вы успешно зарегистрировались\";\n    }\n    // if (isSuccseed === true && location.pathname === '/profile' ) {\n    //   text = \"Данные профиля успешно отредактированы!\";\n    // }\n    if (isSuccseed === false) {\n      text = \"Что-то пошло не так. Попробуйте еще раз\";\n    }\n    return text;\n  }\n\n  return (\n    <div className={isOpened ? `popup_opened popup` : `popup`} id={id}>\n      <div className={`popup__container popup__container_filling_${id}`}>\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть попап\"\n          disabled={formValid}\n        ></button>\n        <div\n          className={\n            isSuccseed ? `popup__reg-image-ok` : `popup__reg-image-error`\n          }\n        ></div>\n        <h3 className=\"popup__title popup__title_position_tips\">\n          {changeTipText()}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}